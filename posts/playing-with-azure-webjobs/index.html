<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Playing with Azure WebJobs" /><meta property="og:locale" content="en" /><meta name="description" content="In case you were following my posts, you are aware about my project Days From Today. It’s a port of my Windows app which is much more functional, but it’s still only a Windows app and I wanted my web version to be as functional as a Windows app. This time I tried to add email reminders about events." /><meta property="og:description" content="In case you were following my posts, you are aware about my project Days From Today. It’s a port of my Windows app which is much more functional, but it’s still only a Windows app and I wanted my web version to be as functional as a Windows app. This time I tried to add email reminders about events." /><link rel="canonical" href="https://stipegrbic.github.io/posts/playing-with-azure-webjobs/" /><meta property="og:url" content="https://stipegrbic.github.io/posts/playing-with-azure-webjobs/" /><meta property="og:site_name" content="Stipe Grbić" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-06T12:45:30+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Playing with Azure WebJobs" /><meta name="twitter:site" content="@_stipegrbic_" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"https://stipegrbic.github.io/posts/playing-with-azure-webjobs/"},"description":"In case you were following my posts, you are aware about my project Days From Today. It’s a port of my Windows app which is much more functional, but it’s still only a Windows app and I wanted my web version to be as functional as a Windows app. This time I tried to add email reminders about events.","url":"https://stipegrbic.github.io/posts/playing-with-azure-webjobs/","@type":"BlogPosting","headline":"Playing with Azure WebJobs","dateModified":"2022-11-23T16:22:18+01:00","datePublished":"2022-05-06T12:45:30+02:00","@context":"https://schema.org"}</script><title>Playing with Azure WebJobs | Stipe Grbić</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Stipe Grbić"><meta name="application-name" content="Stipe Grbić"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/lego4.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Stipe Grbić</a></div><div class="site-subtitle font-italic">Personal website and blog of Stipe Grbić - software developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/my-work/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>MY WORK</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://twitter.com/_stipegrbic_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/stipe-grbić-45045a83" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://github.com/stipegrbic" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://stackoverflow.com/users/3261232/stipe" aria-label="stack-overflow" target="_blank" rel="noopener"> <i class="fab fa-stack-overflow"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['stipegrbic','hotmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Playing with Azure WebJobs</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Playing with Azure WebJobs</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/_stipegrbic_">Stipe Grbić</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-05-06T12:45:30+02:00" data-toggle="tooltip" data-placement="bottom" title="Fri, May 6, 2022, 12:45 PM +0200" >May 6</em> </span> <span> Updated <em class="timeago" date="2022-11-23T16:22:18+01:00" data-toggle="tooltip" data-placement="bottom" title="Wed, Nov 23, 2022, 4:22 PM +0100" >Nov 23</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="433 words"> <em>2 min</em> read</span></div></div></div><div class="post-content"><p>In case you were following my posts, you are aware about my project <a href="https://stipe.xyz/posts/my-first-asp-net-core-mvc-app/">Days From Today</a>. It’s a port of my Windows app which is much more functional, but it’s still only a Windows app and I wanted my web version to be as functional as a Windows app. This time I tried to add email reminders about events.</p><p>So, the Windows app has a functionality that it can notify you about your events with a scheduled notification. This is great but as I noticed, I’m sitting by my PC 24/7 and this means I might miss some notifications. To avoid missing some important event notification, I had an idea to have my web version of the app send an email reminder for an event. I coded the CRUD operations to subscribe for event reminder emails, integrated an email sending service and it all worked nice and I was happy :)</p><p>Then, I needed my web app to do this on a schedule. Each day check if there’s any event with a reminder and send an email if needed. I learned about Azure WebJobs and Function Apps. Created such a WebJob, it worked and I was still happy. Then I noticed WebJob triggers don’t work in a free-tier app. Ok, I was ready to cancel everything, as I don’t have intention to pay anything for this hobby project. Then I found this <a href="https://medium.com/@patrick_abel/a-poor-mans-approach-for-scheduling-azure-web-jobs-f46e0f4fcdb3">blog post</a> and found out there’s a workaround to this limitation. So I created a Function App which would run on a schedule and trigger my WebJob which would send emails. It worked and I was happy :)</p><p>Then, I noticed Function App requires Azure Storage account. I checked its pricing immediatelly and noticed there’s no free storage. As little as it could be, anything higher than 0 is too expensive for this app. This was a moment I realized it’s not worth it. I was anyway hesitant to add many services to Azure and then live in fear of unexpected costs. So the app is back to it’s initial functionality, calculating days from today.</p><p>At the end, I’m not happy I had to shut it down, but I’m not sad either. I learned quite a lot during these two days of hobby development. It’s sad that Azure has such limitations, I’m sure they could have such functionality which doesn’t cost anything if only they provided it. Probably they don’t think about this simple use cases as it’s not something production apps need. Anyway, email reminders will have to wait for better times when Azure would provide free scheduled background tasks.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/software-development/'>software development</a>, <a href='/categories/web/'>web</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/azure/" class="post-tag no-text-decoration" >azure</a> <a href="/tags/asp-net/" class="post-tag no-text-decoration" >asp.net</a> <a href="/tags/backend/" class="post-tag no-text-decoration" >backend</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"></div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Playing with Azure WebJobs - Stipe Grbić&amp;url=https://stipegrbic.github.io/posts/playing-with-azure-webjobs/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Playing with Azure WebJobs - Stipe Grbić&amp;u=https://stipegrbic.github.io/posts/playing-with-azure-webjobs/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://stipegrbic.github.io/posts/playing-with-azure-webjobs/&amp;text=Playing with Azure WebJobs - Stipe Grbić" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/playing-with-azure-webjobs/">Playing with Azure WebJobs</a><li><a href="/posts/migrating-from-google-app-engine/">Migrating from Google App Engine</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/software-development/">software development</a> <a class="post-tag" href="/tags/opinions/">opinions</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/node-js/">node.js</a> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/windows-phone/">windows phone</a> <a class="post-tag" href="/tags/google-app-engine/">google app engine</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/xamarin/">xamarin</a> <a class="post-tag" href="/tags/android/">android</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/back-to-heroku/"><div class="card-body"> <em class="timeago small" date="2017-10-24T15:21:52+02:00" >Oct 24, 2017</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Back to Heroku</h3><div class="text-muted small"><p> A year and a half ago I moved my backend service from Heroku to Openshift. The reasons were that it didn’t put services to sleep state in free tier. At that time it just looked it offers more for t...</p></div></div></a></div><div class="card"> <a href="/posts/sending-push-notifications-with-google-app-engine/"><div class="card-body"> <em class="timeago small" date="2014-05-01T22:17:48+02:00" >May 1, 2014</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Sending push notifications with Google App Engine</h3><div class="text-muted small"><p> When I built a Windows Phone application for local weather forecast it was naturally to implement push notifications – because you know how hard it is for users to manually check if new weather inf...</p></div></div></a></div><div class="card"> <a href="/posts/my-first-node-js-experience/"><div class="card-body"> <em class="timeago small" date="2015-10-26T21:20:25+01:00" >Oct 26, 2015</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>My first Node.js experience</h3><div class="text-muted small"><p> Recently I got a requirement to create a proof of concept web application. Something not too complicated, two types of users can register, login and after that enter and view some data with file up...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/side-projects-pay-off/" class="btn btn-outline-primary" prompt="Older"><p>Side projects (sometimes) pay off</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://stipegrbic.github.io/posts/playing-with-azure-webjobs/'; this.page.identifier = '/posts/playing-with-azure-webjobs/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://stipegrbic.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/_stipegrbic_">Stipe Grbić</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/software-development/">software development</a> <a class="post-tag" href="/tags/opinions/">opinions</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/node-js/">node.js</a> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/windows-phone/">windows phone</a> <a class="post-tag" href="/tags/google-app-engine/">google app engine</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/xamarin/">xamarin</a> <a class="post-tag" href="/tags/android/">android</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-74043426-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-74043426-1'); }); </script>
